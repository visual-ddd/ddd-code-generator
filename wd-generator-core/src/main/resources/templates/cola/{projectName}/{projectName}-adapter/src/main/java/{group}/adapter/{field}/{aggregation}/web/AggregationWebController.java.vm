#parse("templates/Aggregation.vm")
package ${PROJECT_PACKAGE}.adapter.${DOMAIN_NAME}.${AGGREGATION_CLASS_NAME_ALL_LOWER}.web;

#controllerImport()

#comment("${AGGREGATION_CLASS_DESCRIPTION}-web-controller")
@RestController
@RequestMapping("/web/${AGGREGATION_CLASS_NAME_LOWER_HYPHEN}")
@Api(value = "/web/${AGGREGATION_CLASS_NAME_LOWER_HYPHEN}", tags = "Bç«¯-${AGGREGATION_CLASS_DESCRIPTION}")
public class ${AGGREGATION_CLASS_NAME}WebController {
#controller()
}

#macro(controllerImport)
import java.util.List;
import javax.annotation.Resource;
import com.wakedata.common.core.dto.ResultDTO;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RestController;
import io.swagger.annotations.Api;
import io.swagger.annotations.ApiOperation;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestBody;
import javax.validation.Valid;
import ${AGGREGATION_RPC_SERVICE_PACKAGE_PATH}.${AGGREGATION_CLASS_NAME}RpcService;
#dependencyCmdDTO()
#dependencyQuery()
#dependencyQueryResult()
#end

#macro(controller)

    @Resource
    private ${AGGREGATION_CLASS_NAME}RpcService ${CASE_FORMAT_LOWER_CAMEL.convert(${AGGREGATION_CLASS_NAME})}RpcService;

#foreach ($cmd in ${AGGREGATION_CMD_LIST})

    @ApiOperation("${cmd.umlClass.classDesc}")
    @PostMapping("/${CASE_FORMAT_LOWER_HYPHEN.convert(${cmd.inputClassName})}")
    public ResultDTO<Boolean> ${CASE_FORMAT_LOWER_CAMEL.convert(${cmd.inputClassName})}(@RequestBody @Valid ${cmd.inputClassName}DTO dto) {
        return ${CASE_FORMAT_LOWER_CAMEL.convert(${AGGREGATION_CLASS_NAME})}RpcService.${CASE_FORMAT_LOWER_CAMEL.convert(${cmd.inputClassName})}(dto);
    }
#end
#foreach ($query in ${AGGREGATION_QUERY_LIST})

    @ApiOperation("${query.umlClass.classDesc}")
    @GetMapping("/${CASE_FORMAT_LOWER_HYPHEN.convert(${query.umlClass.className})}")
    public ResultDTO<${query.queryResultType}> ${CASE_FORMAT_LOWER_CAMEL.convert(${query.umlClass.className})}(${query.umlClass.className} query) {
        return ${CASE_FORMAT_LOWER_CAMEL.convert(${AGGREGATION_CLASS_NAME})}RpcService.${CASE_FORMAT_LOWER_CAMEL.convert(${query.umlClass.className})}(query);
    }
#end
#foreach ($pageQuery in ${AGGREGATION_PAGE_QUERY_LIST})

    @ApiOperation("${pageQuery.umlClass.classDesc}")
    @GetMapping("/${CASE_FORMAT_LOWER_HYPHEN.convert(${pageQuery.umlClass.className})}")
    public ResultDTO<List<${pageQuery.queryResultType}>> ${CASE_FORMAT_LOWER_CAMEL.convert(${pageQuery.umlClass.className})}(${pageQuery.umlClass.className} pageQuery) {
        return ${CASE_FORMAT_LOWER_CAMEL.convert(${AGGREGATION_CLASS_NAME})}RpcService.${CASE_FORMAT_LOWER_CAMEL.convert(${pageQuery.umlClass.className})}(pageQuery);
     }
#end
#end