#parse("templates/Aggregation.vm")
package ${ProjectPackage}.adapter.${DomainName}.${AggregationLowName}.web;

import java.util.List;
import javax.annotation.Resource;
import com.wakedata.common.core.dto.ResultDTO;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import io.swagger.annotations.Api;
import io.swagger.annotations.ApiOperation;

#comment("${AggregationDescription}-web-controller")
@RestController
@RequestMapping("/web/${CaseFormatLowerHyphen.convert(${AggregationName})}")
@Api(value = "/web/${CaseFormatLowerHyphen.convert(${AggregationName})}", tags = "${AggregationDescription}")
public class ${AggregationName}WebController {

#foreach($cmd in ${CmdList})
    @Resource
    private ${cmd.umlClass.className}Handler ${cmd.umlClass.className.substring(0, 1).toLowerCase()}${cmd.umlClass.className.substring(1)}Handler;
#end
#foreach($queryExe in ${QueryExeList})
    @Resource
    private ${queryExe.umlClass.className} ${queryExe.umlClass.className.substring(0, 1).toLowerCase()}${queryExe.umlClass.className.substring(1)};
#end
#foreach($pageQueryExe in ${PageQueryExeList})
    @Resource
    private ${pageQueryExe.umlClass.className} ${pageQueryExe.umlClass.className.substring(0, 1).toLowerCase()}${pageQueryExe.umlClass.className.substring(1)};
#end

#foreach ($cmd in ${CmdList})

    @ApiOperation("${cmd.umlClass.classDesc}")
    @PostMapping("/${CaseFormatLowerHyphen.convert(${cmd.umlClass.classPackage})}")
    public ResultDTO<Boolean> ${cmd.umlClass.classPackage}(${cmd.umlClass.className} cmd) {
        ${cmd.umlClass.className.substring(0, 1).toLowerCase()}${cmd.umlClass.className.substring(1)}Handler.handle(cmd);
        return ResultDTO.success(Boolean.TRUE);
    }
#end
#foreach ($queryExe in ${QueryExeList})

    @ApiOperation("${queryExe.umlClass.classDesc}")
    @GetMapping("/${CaseFormatLowerHyphen.convert(${queryExe.umlClass.className})}")
    public ResultDTO<${queryExe.queryResultType}> ${queryExe.umlClass.className}(${AggregationName}Query query) {
        return ${queryExe.umlClass.className.substring(0, 1).toLowerCase()}${queryExe.umlClass.className.substring(1)}.execute(query);
    }
#end
#foreach ($pageQueryExe in ${PageQueryExeList})

    @ApiOperation("${pageQueryExe.umlClass.classDesc}")
    @GetMapping("/${CaseFormatLowerHyphen.convert(${pageQueryExe.umlClass.className})}")
    public ResultDTO<List<${pageQueryExe.queryResultType}>> ${pageQueryExe.umlClass.className}(${AggregationName}PageQuery pageQuery) {
        return ${pageQueryExe.umlClass.className.substring(0, 1).toLowerCase()}${pageQueryExe.umlClass.className.substring(1)}.execute(pageQuery);
    }
#end
}